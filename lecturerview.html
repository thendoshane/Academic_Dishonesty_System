<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Monitoring System</title>
    <link rel="stylesheet" href="/css/lecturerview.css">
    
</head>
<body>
    <div id="app">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <h1>Exam Monitoring Dashboard</h1>
            <div class="nav-links">
                <a href="#dashboard">Dashboard</a>
                <a href="#assessments">Assessments</a>
                <a href="#reports">Reports</a>
                <a href="#trends">Trends</a>
                <a href="#logout">Logout</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main>
            <!-- Dashboard Section -->
            <section id="dashboard" class="page active">
                <h2>Welcome, Lecturer!</h2>
                <p>Manage your assessments, review reports, and analyze trends here.</p>
            </section>

            <!-- Assessments Section -->
            <!-- Add this to your existing assessments section in index.html or lectureview.html -->
<section id="assessments" class="page hidden">
    <h2>Manage Assessments</h2>
    <div class="assessment-actions">
        <button id="create-assessment-btn">Create New Assessment</button>
    </div>
    <div id="assessment-list">
        <!-- Assessments will be dynamically added here -->
    </div>
    <!-- Start and Stop buttons -->
<button id="startButton" onclick="startAssessment(assessmentId)">Start Assessment</button>
<button id="stopButton" onclick="stopAssessment()" style="display:none;">Stop Assessment</button>



<!-- Add the Analyse button -->
<button id="analyseButton">Analyse Screenshots</button>

<script>
    // Add event listener for the analyse button
    document.getElementById("analyseButton").addEventListener("click", () => {
        // Send request to backend to start the analysis
        fetch('/analyse_screenshots', {
            method: 'POST'
        })
        .then(response => response.json())
        .then(data => {
            alert(data.message);
        })
        .catch(err => console.log('Error:', err));
    });
</script>













</section>


            <!-- Create Assessment Modal -->
            <div id="create-assessment-modal" class="modal">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h3>Create New Assessment</h3>
                    <form id="assessment-form">
                        <label for="assessment-name">Assessment Name:</label>
                        <input type="text" id="assessment-name" required>
                        <label for="assessment-date">Date:</label>
                        <input type="date" id="assessment-date" required>
                        <label for="assessment-time">Time:</label>
                        <input type="time" id="assessment-time" required>
                        <label for="assessment-duration">Duration (minutes):</label>
                        <input type="number" id="assessment-duration" required>
                        <button type="submit">Create Assessment</button>
                    </form>
                </div>
            </div>

            <!-- Modal Structure -->
            <div id="editModal" class="modal">
                <div class="modal-content">
                    <h4>Edit Assessment</h4>
                    <form id="editForm">
                        <label for="assessmentName">Name</label>
                        <input type="text" id="assessmentName" required>
                        <label for="assessmentDate">Date</label>
                        <input type="date" id="assessmentDate" required>
                        <label for="assessmentTime">Time</label>
                        <input type="time" id="assessmentTime" required>
                        <label for="assessmentDuration">Duration (Minutes)</label>
                        <input type="number" id="assessmentDuration" required>
                    </form>
                </div>
                <div class="modal-footer">
                    <button id="saveChanges" class="btn">Save Changes</button>
                    <button id="closeModal" class="btn">Cancel</button>
                </div>
            </div>


            <!-- Reports Section -->
            <section id="reports" class="page hidden">
                <h2>Reports</h2>
                <div id="report-filters">
                    <label for="filter-assessment">Filter by Assessment:</label>
                    <select id="filter-assessment">
                        <option value="all">All Assessments</option>
                        <!-- Assessments will be populated dynamically here -->
                    </select>
                </div>
                <div id="flagged-screenshots">
                    <!-- Flagged screenshots will be dynamically added here -->
                </div>
            </section>


            <!-- Trends Section -->
            <section id="trends" class="page hidden">
                <h2>Trends</h2>
                <div id="trends-chart">
                    <canvas id="dishonesty-trends-chart"></canvas>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p>&copy; 2023 Exam Monitoring System. All rights reserved.</p>
        </footer>
    </div>

    <script src="/js/lecturerview.js"></script>
    

</body>
</html>
